---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---

## Loading required packages
Using require() we will load all packages needed for analysis.
```{r, echo=TRUE}
require(readr)
require(ggplot2)
require(dplyr)
require(lubridate)
```

## Loading and preprocessing the data
The data is loaded into a data frame. With readr, most of the data is already in an appropriate format.  
```{r, echo=TRUE}
stepsdf <- read_csv("activity.zip")
```
Stepsdf contains three columns:
1. steps (numeric), the number of steps on the given date and time. 
2. date (date), the date on which the measurement was taken.
3. interval (numeric), the time in the format HHMM  
The interval column is used to extract the time, and this is combined with the date to create a datetime value.
```{r, echo=TRUE}
stepsdf %>%
    mutate(datetime = date + hours((interval - (interval %% 100)) / 100) + minutes(interval %% 100))
```

## What is mean total number of steps taken per day?
First we sum all values of 'steps', grouped by day, using the 'aggregate' function:
```{r, echo=TRUE}
steps_per_day <- aggregate(stepsdf$steps, by=list(stepsdf$date), sum)
names(steps_per_day) <- c("Date", "Total_steps")
```
Steps_per_day now contains two columns: a date and the total number of steps taken on that day.  
Now we will use ggplot to create a histogram:  
```{r, echo=TRUE}
g <- ggplot(steps_per_day, aes(x = Total_steps))
g + geom_histogram(binwidth = 1000, color = 'black', fill = 'white') + labs(title = 'Total number of steps per day', x = 'Number of steps taken', y = 'Frequency')
```  
  
Next, we will calculate the mean and median number of total steps taken per day (so the sum of all steps taken daily). 
```{r, echo=TRUE}
cat('Mean:   ', mean(steps_per_day$Total_steps, na.rm = TRUE), "\n")
cat('Median: ', median(steps_per_day$Total_steps, na.rm = TRUE))
```

## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
